<!-- build time:Mon Jun 08 2020 20:04:19 GMT+0800 (GMT+08:00) --><h1 id="基于-Hexo-NexT-5-的一款主题"><a href="#基于-Hexo-NexT-5-的一款主题" class="headerlink" title="基于 Hexo NexT 5 的一款主题"></a>基于 Hexo NexT 5 的一款主题</h1><p><img src="https://img.shields.io/badge/hexo-v3.9.0-orange" alt=""><br><img src="https://img.shields.io/badge/hexo--next-v5.1.4-orange" alt=""><br><img src="https://img.shields.io/badge/hexo--abbrink-v2.0.5-brightgreen" alt=""><br><img src="https://img.shields.io/badge/hexo--neat-v1.0.4-brightgreen" alt=""><br><img src="https://img.shields.io/badge/hexo--wordcount-v6.0.1-blue" alt=""><br><img src="https://img.shields.io/badge/hexo--symbols--count--time-v0.6.0-blue" alt=""><br><img src="https://img.shields.io/badge/hexo--generator--sitemap-v1.2.0-green" alt=""><br><img src="https://img.shields.io/badge/hexo--baidu--url--submit-v0.0.6-green" alt=""><br><img src="https://img.shields.io/badge/hexo--related--popular--post-v3.0.6-yellowgreen" alt=""><br><img src="https://img.shields.io/badge/hexo--douban-v1.1.3-yellowgreen" alt=""></p><p><strong>效果预览</strong></p><ul><li>网站截图：<a href="https://github.com/leafjame/hexo-theme-next5-leaf/blob/master/README.pic.md" target="_blank" rel="noopener">传送门 1</a></li><li>站点地址：<a href="https://www.liaofuzhan.com/" target="_blank" rel="noopener">传送门 2</a></li></ul><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&emsp;&emsp;网上有很多关于 github pages 博客搭建的文章，使用的比较多的是 jekyll、hexo。 github 官方推荐的是前者，经过比较，本人选择了 hexo，因为有许多人推崇的一款主题：next。</p><p>clone 后一顿魔改，效果自己看着还算可以，在这 share 出来，欢迎 star、fork ！如有疑问，请提 issue 或在博客给我反馈。</p><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><blockquote><p>以下功能网上一搜一大把，不过还是为大家整理了下本博客的情况，who care（皮一下~）！</p></blockquote><p><strong>已完成（v1.0）：</strong><br><br></p><ul><li><input checked disabled type="checkbox"> 主页布局、颜色搭配</li><li><input checked disabled type="checkbox"> 全局字体设置（思源宋体）</li><li><input checked disabled type="checkbox"> 动态背景图片</li><li><input checked disabled type="checkbox"> 随机三角丝带</li><li><input checked disabled type="checkbox"> 鼠标点击特效 (4种)</li><li><input checked disabled type="checkbox"> 文章虚拟背景</li><li><input checked disabled type="checkbox"> 文章置顶、精品</li><li><input checked disabled type="checkbox"> 文章排行榜（热榜）</li><li><input checked disabled type="checkbox"> 文章浏览、字数、时长</li><li><input checked disabled type="checkbox"> APlayer 音乐播放器</li><li><input checked disabled type="checkbox"> DPlayer 视频播放器</li><li><input checked disabled type="checkbox"> 看板娘</li><li><input checked disabled type="checkbox"> SEO 相关</li><li><input checked disabled type="checkbox"> CDN 相关</li><li><input checked disabled type="checkbox"> 个性化返回顶部</li><li><input checked disabled type="checkbox"> fork me from github</li><li><input checked disabled type="checkbox"> 博主头像旋转</li><li><input checked disabled type="checkbox"> 友链及相关链接页面</li><li><input checked disabled type="checkbox"> 近期文章推荐</li><li><input checked disabled type="checkbox"> 网站运行时间</li><li><input checked disabled type="checkbox"> 网站访问人数、访问量</li><li><input checked disabled type="checkbox"> 阅读全文样式</li><li><input checked disabled type="checkbox"> DaoVoice 在线聊天</li><li><input checked disabled type="checkbox"> TiDio 在线聊天</li><li><input checked disabled type="checkbox"> 来必力评论系统</li><li><input checked disabled type="checkbox"> Valine 评论系统</li><li><input checked disabled type="checkbox"> abbrlink 文章永久链接</li><li><input checked disabled type="checkbox"> neat 压缩</li><li><input checked disabled type="checkbox"> 文章版权信息</li><li><input checked disabled type="checkbox"> 代码块样式</li><li><input checked disabled type="checkbox"> 代码块复制</li><li><input checked disabled type="checkbox"> 阅读结束提醒</li><li><input checked disabled type="checkbox"> 打赏</li><li><input checked disabled type="checkbox"> 百度分享</li><li><input checked disabled type="checkbox"> 评论区打字特效</li><li><input checked disabled type="checkbox"> 页面反馈<br></li></ul><p><strong>20190925 新增以下功能（v2.0）：</strong><br><br></p><ul><li><input checked disabled type="checkbox"> 手机端样式适配</li><li><input checked disabled type="checkbox"> 代码块 Mac panel 特效</li><li><input checked disabled type="checkbox"> LeanCloud 切换国际版</li><li><input checked disabled type="checkbox"> 接入 Google AdSense 广告</li><li><input checked disabled type="checkbox"> 新增 ShareJs 分享</li><li><input checked disabled type="checkbox"> 类知乎卡片链接样式</li><li><input checked disabled type="checkbox"> Valine-Admin 评论系统</li><li><input checked disabled type="checkbox"> Valine-Admin 邮件通知</li><li><input checked disabled type="checkbox"> 相关文章推荐</li><li><input checked disabled type="checkbox"> 标签样式调整</li><li><input checked disabled type="checkbox"> 标签页自定义样式（4种）</li><li><input checked disabled type="checkbox"> 分类页自定义样式（2种）</li><li><input checked disabled type="checkbox"> 归档页自定义样式</li><li><input checked disabled type="checkbox"> 鼠标样式</li><li><input checked disabled type="checkbox"> 主页走马灯（轮播图）</li><li><input checked disabled type="checkbox"> 瀑布流相册</li><li><input checked disabled type="checkbox"> canvas 粒子时钟</li><li><input checked disabled type="checkbox"> 豆瓣读书、电影</li><li><input checked disabled type="checkbox"> 页面其它特效</li></ul><p>…<br><br></p><p><strong>进行中（v2.1）：</strong><br><br></p><ul><li><input disabled type="checkbox"> Service Worker：离线访问功能</li><li><input disabled type="checkbox"> PWA（Progressive Web App）：将网站安装到桌面(PC、移动)</li><li><input disabled type="checkbox"> 网站运行时间 DIY</li><li><input disabled type="checkbox"> 访问量 DIY</li><li><input disabled type="checkbox"> 文章首字下沉效果</li><li><input disabled type="checkbox"> 绚丽彩虹播放器</li><li><input disabled type="checkbox"> 炫彩 logo</li><li><input disabled type="checkbox"> 旋转魔方（2种）</li><li><input disabled type="checkbox"> 浏览器 Console 个性化输出</li><li><input disabled type="checkbox"> 邮件订阅功能</li><li><input disabled type="checkbox"> 。。。</li><li><input disabled type="checkbox"> 。。。</li></ul><p>…<br><br></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ol><li><p>Download ZIP 解压后，放到 hexo 目录 themes 主题下即可。或者使用 git 命令，进入到本地 hexo 目录：</p><pre><code class="shell">git clone https://github.com/leafjame/hexo-theme-next5-leaf.git themes/leaf</code></pre></li><li><p>将其放到 themes 目录下，名字自定义。然后在站点的配置文件 _config.yml 中指定所使用的 theme：</p><pre><code class="shell">theme: leaf</code></pre><p>PS：如需 clone 指定 tag 版本，可以使用 <code>git clone --branch &lt;tag_name&gt; &lt;repo_url&gt; &lt;local_path&gt;</code> 命令，如：</p><pre><code class="shell">git clone --branch v1.0 https://github.com/leafjame/hexo-theme-next5-leaf.git themes/leaf</code></pre></li></ol><h3 id="依赖插件"><a href="#依赖插件" class="headerlink" title="依赖插件"></a>依赖插件</h3><ul><li><p>插件列表</p><p>本主题中在搭建过程中，集成了一定的插件，所列部分如下：</p><pre><code class="js"><span class="string">"hexo-abbrlink"</span>: <span class="string">"^2.0.5"</span>,   <span class="comment">//生成文章唯一URL插件</span>
<span class="string">"hexo-baidu-url-submit"</span>: <span class="string">"0.0.6"</span>,  <span class="comment">//url提交插件，用于seo</span>
<span class="string">"hexo-deployer-git"</span>: <span class="string">"^1.0.0"</span>,  <span class="comment">//git插件，用于部署</span>
<span class="string">"hexo-douban"</span>: <span class="string">"^1.1.3"</span>, <span class="comment">//豆瓣读书、电影插件</span>
<span class="string">"hexo-generator-baidu-sitemap"</span>: <span class="string">"^0.1.6"</span>,  <span class="comment">//百度sitemap，用于seo</span>
<span class="string">"hexo-generator-sitemap"</span>: <span class="string">"^1.2.0"</span>,  <span class="comment">// 同上</span>
<span class="string">"hexo-generator-feed"</span>: <span class="string">"^1.2.2"</span>,  <span class="comment">// SSR插件</span>
<span class="string">"hexo-generator-index-pin-top"</span>: <span class="string">"^0.2.2"</span>,  <span class="comment">//用于指定文章置顶</span>
<span class="string">"hexo-generator-search"</span>: <span class="string">"^2.4.0"</span>,  <span class="comment">//本地搜索插件</span>
<span class="string">"hexo-neat"</span>: <span class="string">"^1.0.4"</span>,  <span class="comment">// 压缩js、css代码的插件</span>
<span class="string">"hexo-permalink-pinyin"</span>: <span class="string">"^1.1.0"</span>,  <span class="comment">// 中文链接转拼音的插件</span>
<span class="string">"hexo-related-popular-posts"</span>: <span class="string">"^3.0.6"</span>,  <span class="comment">// 相关文章推荐</span>
<span class="string">"hexo-renderer-ejs"</span>: <span class="string">"^0.3.1"</span>,  <span class="comment">// 是不是自带的？。。。</span>
<span class="string">"hexo-renderer-marked"</span>: <span class="string">"^1.0.1"</span>,  <span class="comment">// 是不是自带的？。。。</span>
<span class="string">"hexo-renderer-stylus"</span>: <span class="string">"^0.3.3"</span>,  <span class="comment">// 是不是自带的？。。。</span>
<span class="string">"hexo-symbols-count-time"</span>: <span class="string">"^0.6.0"</span>,  <span class="comment">// 站点字数统计</span>
<span class="string">"hexo-tag-cloud"</span>: <span class="string">"^2.1.1"</span>,  <span class="comment">//标签云</span>
<span class="string">"hexo-tag-dplayer"</span>: <span class="string">"^0.3.3"</span>,  <span class="comment">//dplayer视频插件</span>
<span class="string">"hexo-wordcount"</span>: <span class="string">"^6.0.1"</span>,  <span class="comment">// 字数统计插件</span>
<span class="string">"webpack-cli"</span>: <span class="string">"^3.3.7"</span>,  <span class="comment">// 装hexo-abbrlink时提示装的，按需下载</span>
<span class="string">"@webpack-cli/init"</span>: <span class="string">"^0.2.2"</span>,  <span class="comment">// 同上</span></code></pre><blockquote><p>所装插件信息位于站点根目录的 package.json 文件，核对一下自己是否已经装过。</p></blockquote></li><li><p>安装命令</p><p>在站点根目录下，使用：</p><pre><code class="nodejs">npm install --save-dev hexo-neat</code></pre><p>即可安装 hexo-neat 插件，其他的插件安装方式类似。默认是安装最新版，如要指定版本号，可使用：</p><pre><code class="nodejs">npm install --save-dev hexo-neat@1.0.4</code></pre></li></ul><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><ul><li><p>next 主题配置文件 _config.yml</p><p>按需配置 valine、leanCloud、busuanzi、tidio、hotjar、轮播图、文章推荐、点击特效、自定义标签等。</p></li><li><p>hexo 站点配置文件 _config.yml</p><p>按需配置 abbrlink、highlight、deploy、douban、hexo-neat 等。</p><blockquote><p>⚠️ 注意：部分功能需注册后方可使用。</p></blockquote></li></ul><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>&emsp;&emsp;控制台 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> 三连，浏览器输入 <code>http://localhost:4000/</code> 即可看到效果！</p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>&emsp;&emsp;附上完整版<strong>站点配置文件</strong>，供大家参考 &#x261f;&#x261f;</p><pre><code class="js"># Hexo Configuration
## Docs: https://hexo.io/docs/configuration.html
## Source: https://github.com/hexojs/hexo/

# Site
title: Leaf<span class="string">'s Blog</span>
<span class="string">subtitle: 因心造境，风云由我！</span>
<span class="string">signature: 人在江湖，生不由己</span>
<span class="string">description: 人在江湖，生不由己，出来混，迟早是要还的!</span>
<span class="string">keywords: leafjame 北宸 Java 程序员 北漂</span>
<span class="string">author: 北宸</span>
<span class="string">language: zh-Hans</span>
<span class="string">timezone:</span>
<span class="string"></span>
<span class="string"># URL</span>
<span class="string">## If your site is put in a subdirectory, set url as '</span>http:<span class="comment">//yoursite.com/child' and root as '/child/'</span>
url: https:<span class="comment">//www.liaofuzhan.com</span>
root: <span class="regexp">/</span>
#permalink: :year/:month/:day/:title/ #对搜索引擎是十分不友好的
#permalink: :title.html
permalink: posts/:abbrlink.html  # 此处可以自己设置，也可以直接使用 :/abbrlink
permalink_defaults:

# 文章链接唯一永久化
abbrlink:
  alg: crc32  #算法： crc16(default) and crc32
  rep: dec    #进制： dec(default) and hex

baidu_url_submit:
  count: 6 ## 比如3，代表提交最新的三个链接
  host: https:<span class="comment">//www.liaofuzhan.com ## 在百度站长平台中注册的域名</span>
  token: XXXXXX ## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!
  path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里


# Directory
source_dir: source
public_dir: public
tag_dir: tags
archive_dir: archives
category_dir: categories
code_dir: downloads/code
i18n_dir: :lang
#skip_render:

skip_render: README.md

# Writing
#https://hexo.io/zh-cn/docs/writing
#new_post_name: :year-:month-:day-:title.md #方便已日期来管理文章
new_post_name: :title.md # File name of new posts
default_layout: post
titlecase: false # Transform title into titlecase
external_link: true # Open external links in new tab
filename_case: <span class="number">0</span>
render_drafts: <span class="literal">false</span>
post_asset_folder: <span class="literal">false</span>
relative_link: <span class="literal">false</span>
future: <span class="literal">true</span>
highlight:
  enable: <span class="literal">true</span>
  line_number: <span class="literal">true</span>
  auto_detect: <span class="literal">true</span>
  tab_replace:

# Home page setting
# path: Root path for your blogs index page. (default = '')
# per_page: Posts displayed per page. (0 = disable pagination)
# order_by: Posts order. (Order by date descending by default)
index_generator:
  path: <span class="string">''</span>
  per_page: <span class="number">10</span>
  order_by: -date

# Category &amp; Tag
default_category: uncategorized
category_map:
tag_map:

# Date / Time format
## Hexo uses Moment.js to parse and display date
## You can customize the date format as defined in
## http://momentjs.com/docs/#/displaying/format/
date_format: YYYY-MM-DD
time_format: HH:mm:ss

# Pagination
## Set per_page to 0 to disable pagination
per_page: <span class="number">10</span>
pagination_dir: page

# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/bin1002/themes//
#theme: landscape
theme: next

Plugins:
- hexo-generator-baidu-sitemap
- hexo-generator-sitemap

baidusitemap:
  path: baidusitemap.xml
sitemap:
  path: sitemap.xml

# Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
- type: git
  repository: 
            github: https:<span class="comment">//github.com/leafjame/leafjame.github.io.git</span>
            gitee: https:<span class="comment">//gitee.com/leafjame/leafjame.git</span>
  branch: master

- type: baidu_url_submitter

# Search
search:
  path: ./public/search.xml
  field: post
  format: html
  limit: <span class="number">10000</span>

# feed
# Dependencies: https://github.com/hexojs/hexo-generator-feed
feed:
  type: atom
  path: atom.xml
  limit: <span class="number">20</span>
  hub:
  content:

# https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md
permalink_pinyin:
  enable: <span class="literal">false</span>
  separator: '-' # default: '-'

# https://blog.csdn.net/lewky_liu/article/details/82432003
# https://github.com/rozbo/hexo-neat
neat_enable: <span class="literal">true</span>
# 压缩html
neat_html:
  enable: <span class="literal">true</span>
  exclude:
# 压缩css
neat_css:
  enable: <span class="literal">true</span>
  exclude:
  - <span class="string">'**/*.min.css'</span>
  - <span class="string">'**/needsharebutton.css'</span>
# 压缩js
neat_js:
  enable: <span class="literal">true</span>
  mangle: <span class="literal">true</span>
  output:
  compress:
  exclude:
  - <span class="string">'**/*.min.js'</span>
  - <span class="string">'**/jquery.fancybox.pack.js'</span>
  - <span class="string">'**/index.js'</span>
  - <span class="string">'**/waifu-tips.js'</span>
  - <span class="string">'**/iframe.js'</span>
  - <span class="string">'**/fireworks.js'</span>

# https://github.com/mythsman/hexo-douban
douban:
  user: your_id
  builtin: false  #否将生成页面的功能嵌入hexo s和hexo g中(false则需要使用hexo douban命令)
  book:
    title: '读书系列' # 该页面的标题
    quote: '书山有路勤为径，学海无涯苦作舟' # 写在页面开头的一段话,支持html语法.
  movie:
    title: <span class="string">'观影系列'</span>
    quote: <span class="string">'Life was like a box of chocolates, you never know what you’re going to get'</span>
  timeout: 10000 # 爬取数据的超时时间
</code></pre><!-- rebuild by neat -->